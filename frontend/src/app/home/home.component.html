
<div style="width:100%" class="row center-block">
  <div class="col-md-12">
    <div class="panel panel-default">
      <div class="panel-body text-center">
        <form class="form-inline" action='/games' method='get' role='form'>
          <div class="form-group">
            <select class="form-control" name='game'>
              <option *ngFor="let game of games" >{{game.name}}</option>
            </select>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


<div class="row">

  <div class="col-md-6">
    <div class="panel panel-default" cg-busy="lastPlayedLoading">
      <div class="panel-heading">
        <h3 class="panel-title">Recently Played Games</h3>
      </div>
      <div class="panel-body">
        <table class="table table-striped">
          <tr>
            <th>Game</th>
            <th>Play Count</th>
            <th>Date</th>
          </tr>
          <tr *ngFor="let game of lastPlayedGames">
            <td> <a href='#/games/{{game.id}}'>{{game.clean_name}} </a></td>
            <td>{{game.play_count}}</td>
            <td><span am-time-ago="game.last_played"></span></td>
          </tr>
        </table>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="panel panel-default" cg-busy="topPlayersLoading">
      <div class="panel-heading">
        <h3 class="panel-title">Top 10 Players</h3>
      </div>
      <div class="panel-body">
        <table class="table table-striped">
          <tr>
            <th>User</th>
            <th>Points</th>
          </tr>
          <tr *ngFor="let player of topPlayers">
            <td><a href='#/users/{{player.id}}'>{{player.username}}</a></td>
            <td>{{player.total_points}}</td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="panel panel-default" cg-busy="latestScoresLoading">
      <div class="panel-heading">
        <h3 class="panel-title strong">Latest Scores</h3>
      </div>
      <div class="panel-body">
        <table class="table table-striped">
          <tr>
            <th>Game</th>
            <th>Rank</th>
            <th>Name</th>
            <th>Score</th>
            <th>Date</th>
          </tr>
          <tr *ngFor='let score of lastestScores'>
            <td> <a href='#/games/{{score.game.id}}'> {{score.game.full_name}}</a></td>
            <td>{{score.rank}}</td>
            <td>
              <a *ngIf="score.alias" href='#/users/{{score.alias.user}}'>{{score.name}}</a>
              <span *ngIf="!score.alias">{{score.name}}</span>
            </td>
            <td>{{score.score}}</td>
            <td><span am-time-ago="score.createdAt"></span></td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>


